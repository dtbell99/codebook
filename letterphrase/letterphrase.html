<!doctype HTML>
<html>

<head>
    <link rel="stylesheet" href="../sketchy.css" />
    <style>
        td {
            padding: 25px;
            text-align: center;
        }

        body {
            padding: 25px;
            border: .2em solid #f1f1f1;
            border-radius: 8px;
            margin: 10px;
        }
    </style>
</head>

<body>
    <h1>Phrase Tester</h1>
    <i>Does your sentence use all the letters?</i>
    <br /><br />
    <input type="text" id="testText" style="width:500px" class="form-control"
        placeholder="the quick brown fox jumps over the lazy dog" onkeyup="test()" />
    <br /><br />
    <table id="lettertable" class="table table-bordered">
    </table>
    <br />
    <div id="totalfound"></div>
</body>

<script>

    let letters = Array.from("abcdefghijklmnopqrstuvwxyz");

    function updateLetterBorder(color, ltr, background, txtColor) {
        document.getElementById(ltr).style = "background-color:" + background + '; color:' + txtColor + ';';
    }

    function test() {
        let phrase = document.getElementById('testText').value.toLowerCase();
        let found = 0;
        letters.forEach(ltr => {
            if (phrase.indexOf(ltr) > -1) {
                updateLetterBorder('green', ltr, '#6ad8bc', 'white');
                found++;
            } else {
                updateLetterBorder('#f1f1f1', ltr);
            }
        });
        document.getElementById('totalfound').innerHTML = found + '/' + letters.length + ' found';
    }

    let tableData = "";
    tableData = tableData + "<tr>";
    letters.forEach(ltr => {
        let td = "<td id='" + ltr + "'>" + ltr + "</td>";
        tableData = tableData + td;
    });
    tableData = tableData + "</tr>";
    document.getElementById("lettertable").innerHTML = tableData;
    document.getElementById('testText').focus();

</script>

</html>